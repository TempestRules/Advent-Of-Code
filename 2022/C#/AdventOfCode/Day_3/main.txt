using AdventOfCode.Day_3;
using System.Collections;

string letters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";

IDictionary<char, int> priorities = new Dictionary<char, int>();

int priority = 1;

foreach (char c in letters)
{
    priorities.Add(c, priority);
    priority++;
}

Reader_3 reader3 = new Reader_3();

ArrayList rucksacks = reader3.GetFile();

int sum_of_priorities = 0;

foreach (string rucksack in rucksacks)
{
    string compartment1 = "";
    string compartment2 = "";

    for (int i = 0; i < (rucksack.Length / 2); i++)
    {
        compartment1 += rucksack[i];
    }

    for (int i = (rucksack.Length / 2); i < rucksack.Length; i ++)
    {
        compartment2 += rucksack[i];
    }
    
    foreach (char c in compartment1)
    {
        if (compartment2.Contains(c))
        {
            sum_of_priorities += priorities[c];
            break;
        }
    }

}

Console.WriteLine("The sum of priorities is: " + sum_of_priorities);

// Part two

sum_of_priorities = 0;

string ruck1 = "";
string ruck2 = "";
string ruck3 = "";

foreach (string rucksack in rucksacks)
{
    if (ruck1.Equals(""))
    {
        ruck1 = rucksack;
    }
    else if (ruck2.Equals(""))
    {
        ruck2 = rucksack;
    }
    else if (ruck3.Equals(""))
    {
        ruck3 = rucksack;
    }

    if (!ruck1.Equals("") && !ruck2.Equals("") && !ruck3.Equals(""))
    {

        foreach (char c in ruck1)
        {
            if (ruck2.Contains(c) && ruck3.Contains(c))
            {
                sum_of_priorities += priorities[c];
                break;
            }
        }

        ruck1 = "";
        ruck2 = "";
        ruck3 = "";
    }
}

Console.WriteLine("The sum of priorities of these item types is: " + sum_of_priorities);